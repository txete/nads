--
-- PostgreSQL database dump
--

-- Dumped from database version 14.9 (Ubuntu 14.9-0ubuntu0.22.04.1)
-- Dumped by pg_dump version 15.3

-- Started on 2023-09-29 19:07:17

-- SET statement_timeout = 0;
-- SET lock_timeout = 0;
-- SET idle_in_transaction_session_timeout = 0;
-- SET client_encoding = 'UTF8';
-- SET standard_conforming_strings = on;
-- -- SELECT pg_catalog.set_config('search_path', '', false);
-- SET check_function_bodies = false;
-- SET xmloption = content;
-- SET client_min_messages = warning;
-- SET row_security = off;

--
-- TOC entry 5 (class 2615 OID 41225)
-- Name: netflix; Type: SCHEMA; Schema: -; Owner: postgres
--

-- CREATE SCHEMA netflix;


-- ALTER SCHEMA netflix OWNER TO postgres;

--
-- TOC entry 6 (class 2615 OID 2200)
-- Name: public; Type: SCHEMA; Schema: -; Owner: postgres
--

-- *not* creating schema, since initdb creates it


-- ALTER SCHEMA public OWNER TO postgres;

--
-- TOC entry 263 (class 1255 OID 41226)
-- Name: function_after_update_rating(); Type: FUNCTION; Schema: netflix; Owner: postgres
--

CREATE FUNCTION netflix.function_after_update_rating() RETURNS trigger
    LANGUAGE plpgsql
    AS $$BEGIN
	UPDATE netflix.movie
	SET avg_rating = (SELECT avg(CASE WHEN r.rating = TRUE THEN 1 ELSE 0 END) * 100
					   		FROM netflix.rating r WHERE r.id_movie = new.id_movie)
	WHERE id_movie = new.id_movie;
	RETURN null;
END;$$;


ALTER FUNCTION netflix.function_after_update_rating() OWNER TO postgres;

--
-- TOC entry 3692 (class 0 OID 0)
-- Dependencies: 263
-- Name: FUNCTION function_after_update_rating(); Type: COMMENT; Schema: netflix; Owner: postgres
--

COMMENT ON FUNCTION netflix.function_after_update_rating() IS 'function to update the average rating of a movie after updating a rating';


--
-- TOC entry 265 (class 1255 OID 41227)
-- Name: insert_ad(character varying, real, boolean, smallint, integer[]); Type: PROCEDURE; Schema: netflix; Owner: postgres
--

CREATE PROCEDURE netflix.insert_ad(IN _ad_description character varying, IN _ad_budget real, IN _ad_is_active boolean, IN _aprox_rating smallint, IN _genre_ids integer[])
    LANGUAGE plpgsql
    AS $$DECLARE
	inserted_id integer;
	_id integer;
	
BEGIN
INSERT INTO netflix.ad(ad_description, ad_budget, ad_is_active, aprox_rating)
	VALUES (_ad_description, _ad_budget, _ad_is_active, _aprox_rating)
	RETURNING ad_id INTO inserted_id ;


FOREACH _id IN ARRAY _genre_ids
LOOP
	INSERT INTO netflix.ad_genre(ad_id, genre_id)
		VALUES (inserted_id, _id);
END LOOP;
END;$$;


ALTER PROCEDURE netflix.insert_ad(IN _ad_description character varying, IN _ad_budget real, IN _ad_is_active boolean, IN _aprox_rating smallint, IN _genre_ids integer[]) OWNER TO postgres;

--
-- TOC entry 264 (class 1255 OID 41228)
-- Name: insert_movie(character varying, character varying); Type: PROCEDURE; Schema: netflix; Owner: postgres
--

CREATE PROCEDURE netflix.insert_movie(IN _title character varying, IN _description character varying)
    LANGUAGE sql
    AS $$INSERT INTO netflix.movie(title, description)
VALUES (_title, _description);$$;


ALTER PROCEDURE netflix.insert_movie(IN _title character varying, IN _description character varying) OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 229 (class 1259 OID 41229)
-- Name: ad; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.ad (
    ad_id integer NOT NULL,
    ad_description character varying NOT NULL,
    ad_budget real DEFAULT 0 NOT NULL,
    ad_is_active boolean DEFAULT false NOT NULL,
    aprox_rating smallint
);


ALTER TABLE netflix.ad OWNER TO postgres;

--
-- TOC entry 230 (class 1259 OID 41236)
-- Name: ad_genre; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.ad_genre (
    ad_id integer NOT NULL,
    genre_id integer NOT NULL
);


ALTER TABLE netflix.ad_genre OWNER TO postgres;

--
-- TOC entry 231 (class 1259 OID 41239)
-- Name: ads_id_ad_seq; Type: SEQUENCE; Schema: netflix; Owner: postgres
--

ALTER TABLE netflix.ad ALTER COLUMN ad_id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME netflix.ads_id_ad_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 250 (class 1259 OID 41364)
-- Name: auth_group; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.auth_group (
    id integer NOT NULL,
    name character varying(150) NOT NULL
);


ALTER TABLE netflix.auth_group OWNER TO postgres;

--
-- TOC entry 249 (class 1259 OID 41363)
-- Name: auth_group_id_seq; Type: SEQUENCE; Schema: netflix; Owner: postgres
--

ALTER TABLE netflix.auth_group ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME netflix.auth_group_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 252 (class 1259 OID 41372)
-- Name: auth_group_permissions; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.auth_group_permissions (
    id bigint NOT NULL,
    group_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE netflix.auth_group_permissions OWNER TO postgres;

--
-- TOC entry 251 (class 1259 OID 41371)
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE; Schema: netflix; Owner: postgres
--

ALTER TABLE netflix.auth_group_permissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME netflix.auth_group_permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 248 (class 1259 OID 41358)
-- Name: auth_permission; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.auth_permission (
    id integer NOT NULL,
    name character varying(255) NOT NULL,
    content_type_id integer NOT NULL,
    codename character varying(100) NOT NULL
);


ALTER TABLE netflix.auth_permission OWNER TO postgres;

--
-- TOC entry 247 (class 1259 OID 41357)
-- Name: auth_permission_id_seq; Type: SEQUENCE; Schema: netflix; Owner: postgres
--

ALTER TABLE netflix.auth_permission ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME netflix.auth_permission_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 254 (class 1259 OID 41378)
-- Name: auth_user; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.auth_user (
    id integer NOT NULL,
    password character varying(128) NOT NULL,
    last_login timestamp with time zone,
    is_superuser boolean NOT NULL,
    username character varying(150) NOT NULL,
    first_name character varying(150) NOT NULL,
    last_name character varying(150) NOT NULL,
    email character varying(254) NOT NULL,
    is_staff boolean NOT NULL,
    is_active boolean NOT NULL,
    date_joined timestamp with time zone NOT NULL
);


ALTER TABLE netflix.auth_user OWNER TO postgres;

--
-- TOC entry 256 (class 1259 OID 41386)
-- Name: auth_user_groups; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.auth_user_groups (
    id bigint NOT NULL,
    user_id integer NOT NULL,
    group_id integer NOT NULL
);


ALTER TABLE netflix.auth_user_groups OWNER TO postgres;

--
-- TOC entry 255 (class 1259 OID 41385)
-- Name: auth_user_groups_id_seq; Type: SEQUENCE; Schema: netflix; Owner: postgres
--

ALTER TABLE netflix.auth_user_groups ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME netflix.auth_user_groups_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 253 (class 1259 OID 41377)
-- Name: auth_user_id_seq; Type: SEQUENCE; Schema: netflix; Owner: postgres
--

ALTER TABLE netflix.auth_user ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME netflix.auth_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 258 (class 1259 OID 41392)
-- Name: auth_user_user_permissions; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.auth_user_user_permissions (
    id bigint NOT NULL,
    user_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE netflix.auth_user_user_permissions OWNER TO postgres;

--
-- TOC entry 257 (class 1259 OID 41391)
-- Name: auth_user_user_permissions_id_seq; Type: SEQUENCE; Schema: netflix; Owner: postgres
--

ALTER TABLE netflix.auth_user_user_permissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME netflix.auth_user_user_permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 260 (class 1259 OID 41450)
-- Name: django_admin_log; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.django_admin_log (
    id integer NOT NULL,
    action_time timestamp with time zone NOT NULL,
    object_id text,
    object_repr character varying(200) NOT NULL,
    action_flag smallint NOT NULL,
    change_message text NOT NULL,
    content_type_id integer,
    user_id integer NOT NULL,
    CONSTRAINT django_admin_log_action_flag_check CHECK ((action_flag >= 0))
);


ALTER TABLE netflix.django_admin_log OWNER TO postgres;

--
-- TOC entry 259 (class 1259 OID 41449)
-- Name: django_admin_log_id_seq; Type: SEQUENCE; Schema: netflix; Owner: postgres
--

ALTER TABLE netflix.django_admin_log ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME netflix.django_admin_log_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 246 (class 1259 OID 41350)
-- Name: django_content_type; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.django_content_type (
    id integer NOT NULL,
    app_label character varying(100) NOT NULL,
    model character varying(100) NOT NULL
);


ALTER TABLE netflix.django_content_type OWNER TO postgres;

--
-- TOC entry 245 (class 1259 OID 41349)
-- Name: django_content_type_id_seq; Type: SEQUENCE; Schema: netflix; Owner: postgres
--

ALTER TABLE netflix.django_content_type ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME netflix.django_content_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 244 (class 1259 OID 41342)
-- Name: django_migrations; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.django_migrations (
    id bigint NOT NULL,
    app character varying(255) NOT NULL,
    name character varying(255) NOT NULL,
    applied timestamp with time zone NOT NULL
);


ALTER TABLE netflix.django_migrations OWNER TO postgres;

--
-- TOC entry 243 (class 1259 OID 41341)
-- Name: django_migrations_id_seq; Type: SEQUENCE; Schema: netflix; Owner: postgres
--

ALTER TABLE netflix.django_migrations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME netflix.django_migrations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 261 (class 1259 OID 41478)
-- Name: django_session; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.django_session (
    session_key character varying(40) NOT NULL,
    session_data text NOT NULL,
    expire_date timestamp with time zone NOT NULL
);


ALTER TABLE netflix.django_session OWNER TO postgres;

--
-- TOC entry 232 (class 1259 OID 41240)
-- Name: genre; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.genre (
    genre_id integer NOT NULL,
    genre character varying NOT NULL
);


ALTER TABLE netflix.genre OWNER TO postgres;

--
-- TOC entry 233 (class 1259 OID 41245)
-- Name: genre_id_genre_seq; Type: SEQUENCE; Schema: netflix; Owner: postgres
--

ALTER TABLE netflix.genre ALTER COLUMN genre_id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME netflix.genre_id_genre_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 234 (class 1259 OID 41246)
-- Name: movie; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.movie (
    movie_id integer NOT NULL,
    title character varying NOT NULL,
    description character varying,
    avg_rating smallint,
    plays integer
);


ALTER TABLE netflix.movie OWNER TO postgres;

--
-- TOC entry 235 (class 1259 OID 41251)
-- Name: movie_genre; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.movie_genre (
    movie_id integer NOT NULL,
    genre_id integer NOT NULL
);


ALTER TABLE netflix.movie_genre OWNER TO postgres;

--
-- TOC entry 236 (class 1259 OID 41254)
-- Name: movie_id_movie_seq; Type: SEQUENCE; Schema: netflix; Owner: postgres
--

ALTER TABLE netflix.movie ALTER COLUMN movie_id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME netflix.movie_id_movie_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 237 (class 1259 OID 41255)
-- Name: playlist; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.playlist (
    playlist_id integer NOT NULL,
    viewer_id integer NOT NULL,
    playlist_name character varying
);


ALTER TABLE netflix.playlist OWNER TO postgres;

--
-- TOC entry 238 (class 1259 OID 41260)
-- Name: playlist_id_playlist_seq; Type: SEQUENCE; Schema: netflix; Owner: postgres
--

ALTER TABLE netflix.playlist ALTER COLUMN playlist_id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME netflix.playlist_id_playlist_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 239 (class 1259 OID 41261)
-- Name: playlist_movie; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.playlist_movie (
    playlist_id integer NOT NULL,
    movie_id integer NOT NULL
);


ALTER TABLE netflix.playlist_movie OWNER TO postgres;

--
-- TOC entry 240 (class 1259 OID 41264)
-- Name: rating; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.rating (
    viewer_id integer NOT NULL,
    movie_id integer NOT NULL,
    rating boolean,
    rating_id integer NOT NULL
);


ALTER TABLE netflix.rating OWNER TO postgres;

--
-- TOC entry 262 (class 1259 OID 41491)
-- Name: rating_rating_id_seq; Type: SEQUENCE; Schema: netflix; Owner: postgres
--

ALTER TABLE netflix.rating ALTER COLUMN rating_id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME netflix.rating_rating_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 241 (class 1259 OID 41267)
-- Name: viewer; Type: TABLE; Schema: netflix; Owner: postgres
--

CREATE TABLE netflix.viewer (
    viewer_id integer NOT NULL,
    username character varying NOT NULL,
    password character varying NOT NULL
);


ALTER TABLE netflix.viewer OWNER TO postgres;

--
-- TOC entry 242 (class 1259 OID 41272)
-- Name: user_id_user_seq; Type: SEQUENCE; Schema: netflix; Owner: postgres
--

ALTER TABLE netflix.viewer ALTER COLUMN viewer_id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME netflix.user_id_user_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 33052)
-- Name: auth_group; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_group (
    id integer NOT NULL,
    name character varying(150) NOT NULL
);


ALTER TABLE public.auth_group OWNER TO postgres;

--
-- TOC entry 216 (class 1259 OID 33051)
-- Name: auth_group_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_group ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_group_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 219 (class 1259 OID 33060)
-- Name: auth_group_permissions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_group_permissions (
    id bigint NOT NULL,
    group_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.auth_group_permissions OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 33059)
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_group_permissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_group_permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 215 (class 1259 OID 33046)
-- Name: auth_permission; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_permission (
    id integer NOT NULL,
    name character varying(255) NOT NULL,
    content_type_id integer NOT NULL,
    codename character varying(100) NOT NULL
);


ALTER TABLE public.auth_permission OWNER TO postgres;

--
-- TOC entry 214 (class 1259 OID 33045)
-- Name: auth_permission_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_permission ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_permission_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 33066)
-- Name: auth_user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_user (
    id integer NOT NULL,
    password character varying(128) NOT NULL,
    last_login timestamp with time zone,
    is_superuser boolean NOT NULL,
    username character varying(150) NOT NULL,
    first_name character varying(150) NOT NULL,
    last_name character varying(150) NOT NULL,
    email character varying(254) NOT NULL,
    is_staff boolean NOT NULL,
    is_active boolean NOT NULL,
    date_joined timestamp with time zone NOT NULL
);


ALTER TABLE public.auth_user OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 33074)
-- Name: auth_user_groups; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_user_groups (
    id bigint NOT NULL,
    user_id integer NOT NULL,
    group_id integer NOT NULL
);


ALTER TABLE public.auth_user_groups OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 33073)
-- Name: auth_user_groups_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_user_groups ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_user_groups_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 220 (class 1259 OID 33065)
-- Name: auth_user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_user ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 225 (class 1259 OID 33080)
-- Name: auth_user_user_permissions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_user_user_permissions (
    id bigint NOT NULL,
    user_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.auth_user_user_permissions OWNER TO postgres;

--
-- TOC entry 224 (class 1259 OID 33079)
-- Name: auth_user_user_permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_user_user_permissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_user_user_permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 227 (class 1259 OID 33138)
-- Name: django_admin_log; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_admin_log (
    id integer NOT NULL,
    action_time timestamp with time zone NOT NULL,
    object_id text,
    object_repr character varying(200) NOT NULL,
    action_flag smallint NOT NULL,
    change_message text NOT NULL,
    content_type_id integer,
    user_id integer NOT NULL,
    CONSTRAINT django_admin_log_action_flag_check CHECK ((action_flag >= 0))
);


ALTER TABLE public.django_admin_log OWNER TO postgres;

--
-- TOC entry 226 (class 1259 OID 33137)
-- Name: django_admin_log_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.django_admin_log ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_admin_log_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 213 (class 1259 OID 33038)
-- Name: django_content_type; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_content_type (
    id integer NOT NULL,
    app_label character varying(100) NOT NULL,
    model character varying(100) NOT NULL
);


ALTER TABLE public.django_content_type OWNER TO postgres;

--
-- TOC entry 212 (class 1259 OID 33037)
-- Name: django_content_type_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.django_content_type ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_content_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 211 (class 1259 OID 33030)
-- Name: django_migrations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_migrations (
    id bigint NOT NULL,
    app character varying(255) NOT NULL,
    name character varying(255) NOT NULL,
    applied timestamp with time zone NOT NULL
);


ALTER TABLE public.django_migrations OWNER TO postgres;

--
-- TOC entry 210 (class 1259 OID 33029)
-- Name: django_migrations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.django_migrations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_migrations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 228 (class 1259 OID 33166)
-- Name: django_session; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_session (
    session_key character varying(40) NOT NULL,
    session_data text NOT NULL,
    expire_date timestamp with time zone NOT NULL
);


ALTER TABLE public.django_session OWNER TO postgres;

--
-- TOC entry 3652 (class 0 OID 41229)
-- Dependencies: 229
-- Data for Name: ad; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

-- COPY netflix.ad (ad_id, ad_description, ad_budget, ad_is_active, aprox_rating) FROM stdin;
-- 1	Ad 1	1000	t	4
-- 2	Ad 2	500	f	3
-- 3	Ad 3	750	t	5
-- 4	Ad 4	2000	t	4
-- 5	Ad 5	1500	f	2
-- 7	PA	80	t	32
-- 8	Anuncio Romance	124	t	83
-- 9	Super anuncio	124	t	25
-- \.


--
-- TOC entry 3653 (class 0 OID 41236)
-- Dependencies: 230
-- Data for Name: ad_genre; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.ad_genre (ad_id, genre_id) FROM stdin;
1	1
1	3
2	2
3	1
3	3
4	1
4	4
5	2
5	5
7	1
7	2
8	5
9	1
9	3
9	4
\.


--
-- TOC entry 3673 (class 0 OID 41364)
-- Dependencies: 250
-- Data for Name: auth_group; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.auth_group (id, name) FROM stdin;
\.


--
-- TOC entry 3675 (class 0 OID 41372)
-- Dependencies: 252
-- Data for Name: auth_group_permissions; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.auth_group_permissions (id, group_id, permission_id) FROM stdin;
\.


--
-- TOC entry 3671 (class 0 OID 41358)
-- Dependencies: 248
-- Data for Name: auth_permission; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.auth_permission (id, name, content_type_id, codename) FROM stdin;
1	Can add log entry	1	add_logentry
2	Can change log entry	1	change_logentry
3	Can delete log entry	1	delete_logentry
4	Can view log entry	1	view_logentry
5	Can add permission	2	add_permission
6	Can change permission	2	change_permission
7	Can delete permission	2	delete_permission
8	Can view permission	2	view_permission
9	Can add group	3	add_group
10	Can change group	3	change_group
11	Can delete group	3	delete_group
12	Can view group	3	view_group
13	Can add user	4	add_user
14	Can change user	4	change_user
15	Can delete user	4	delete_user
16	Can view user	4	view_user
17	Can add content type	5	add_contenttype
18	Can change content type	5	change_contenttype
19	Can delete content type	5	delete_contenttype
20	Can view content type	5	view_contenttype
21	Can add session	6	add_session
22	Can change session	6	change_session
23	Can delete session	6	delete_session
24	Can view session	6	view_session
25	Can add ad	7	add_ad
26	Can change ad	7	change_ad
27	Can delete ad	7	delete_ad
28	Can view ad	7	view_ad
29	Can add genre	8	add_genre
30	Can change genre	8	change_genre
31	Can delete genre	8	delete_genre
32	Can view genre	8	view_genre
33	Can add movie	9	add_movie
34	Can change movie	9	change_movie
35	Can delete movie	9	delete_movie
36	Can view movie	9	view_movie
37	Can add playlist	10	add_playlist
38	Can change playlist	10	change_playlist
39	Can delete playlist	10	delete_playlist
40	Can view playlist	10	view_playlist
41	Can add rating	11	add_rating
42	Can change rating	11	change_rating
43	Can delete rating	11	delete_rating
44	Can view rating	11	view_rating
45	Can add viewer	12	add_viewer
46	Can change viewer	12	change_viewer
47	Can delete viewer	12	delete_viewer
48	Can view viewer	12	view_viewer
\.


--
-- TOC entry 3677 (class 0 OID 41378)
-- Dependencies: 254
-- Data for Name: auth_user; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.auth_user (id, password, last_login, is_superuser, username, first_name, last_name, email, is_staff, is_active, date_joined) FROM stdin;
1	pbkdf2_sha256$600000$IsHEOcSZTPnyYv9KMUTirH$HxJfUhS0iMgOK5H6GWis96j3Y6YZTmxxwQiBze/X+mA=	2023-09-28 18:49:19.010423+02	t	admin				t	t	2023-09-28 18:49:10.569629+02
\.


--
-- TOC entry 3679 (class 0 OID 41386)
-- Dependencies: 256
-- Data for Name: auth_user_groups; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.auth_user_groups (id, user_id, group_id) FROM stdin;
\.


--
-- TOC entry 3681 (class 0 OID 41392)
-- Dependencies: 258
-- Data for Name: auth_user_user_permissions; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.auth_user_user_permissions (id, user_id, permission_id) FROM stdin;
\.


--
-- TOC entry 3683 (class 0 OID 41450)
-- Dependencies: 260
-- Data for Name: django_admin_log; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.django_admin_log (id, action_time, object_id, object_repr, action_flag, change_message, content_type_id, user_id) FROM stdin;
\.


--
-- TOC entry 3669 (class 0 OID 41350)
-- Dependencies: 246
-- Data for Name: django_content_type; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.django_content_type (id, app_label, model) FROM stdin;
1	admin	logentry
2	auth	permission
3	auth	group
4	auth	user
5	contenttypes	contenttype
6	sessions	session
7	publi	ad
8	publi	genre
9	publi	movie
10	publi	playlist
11	publi	rating
12	publi	viewer
\.


--
-- TOC entry 3667 (class 0 OID 41342)
-- Dependencies: 244
-- Data for Name: django_migrations; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.django_migrations (id, app, name, applied) FROM stdin;
1	contenttypes	0001_initial	2023-09-28 18:48:06.551274+02
2	auth	0001_initial	2023-09-28 18:48:06.621351+02
3	admin	0001_initial	2023-09-28 18:48:06.644715+02
4	admin	0002_logentry_remove_auto_add	2023-09-28 18:48:06.653474+02
5	admin	0003_logentry_add_action_flag_choices	2023-09-28 18:48:06.664178+02
6	contenttypes	0002_remove_content_type_name	2023-09-28 18:48:06.684618+02
7	auth	0002_alter_permission_name_max_length	2023-09-28 18:48:06.696299+02
8	auth	0003_alter_user_email_max_length	2023-09-28 18:48:06.707007+02
9	auth	0004_alter_user_username_opts	2023-09-28 18:48:06.71674+02
10	auth	0005_alter_user_last_login_null	2023-09-28 18:48:06.728419+02
11	auth	0006_require_contenttypes_0002	2023-09-28 18:48:06.732313+02
12	auth	0007_alter_validators_add_error_messages	2023-09-28 18:48:06.744968+02
13	auth	0008_alter_user_username_max_length	2023-09-28 18:48:06.760542+02
14	auth	0009_alter_user_last_name_max_length	2023-09-28 18:48:06.771247+02
15	auth	0010_alter_group_name_max_length	2023-09-28 18:48:06.781954+02
16	auth	0011_update_proxy_permissions	2023-09-28 18:48:06.794607+02
17	auth	0012_alter_user_first_name_max_length	2023-09-28 18:48:06.805313+02
18	publi	0001_initial	2023-09-28 18:48:06.81602+02
19	publi	0002_ad_genre_movie_playlist_user_adgenre_moviegenre_and_more	2023-09-28 18:48:06.828673+02
20	publi	0003_delete_adgenre	2023-09-28 18:48:06.832566+02
21	publi	0004_delete_moviegenre	2023-09-28 18:48:06.838407+02
22	publi	0005_viewer_delete_authgroup_delete_authgrouppermissions_and_more	2023-09-28 18:48:06.848141+02
23	sessions	0001_initial	2023-09-28 18:48:06.863716+02
\.


--
-- TOC entry 3684 (class 0 OID 41478)
-- Dependencies: 261
-- Data for Name: django_session; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.django_session (session_key, session_data, expire_date) FROM stdin;
nm6y6mxltmjtd9t7enxbmv9k6uz737ld	.eJxVjEEOwiAQRe_C2hCgDgMu3fcMZGCoVA1NSrsy3l1JutDtf--_lwi0byXsLa9hZnERWpx-t0jpkWsHfKd6W2Ra6rbOUXZFHrTJceH8vB7uX6BQK_3N4JJBhDhkjensYWLPgNZp0IzfUI5I1gESKIc6KcgmIXhl7DApFO8P4QU3WA:1qluCV:ZFiM501NqJ9UxsuWchlVmypRQxHxDI9XMhbcF-uk2dQ	2023-10-12 18:49:19.013342+02
\.


--
-- TOC entry 3655 (class 0 OID 41240)
-- Dependencies: 232
-- Data for Name: genre; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.genre (genre_id, genre) FROM stdin;
1	Action
2	Comedy
3	Drama
4	Horror
5	Romance
\.


--
-- TOC entry 3657 (class 0 OID 41246)
-- Dependencies: 234
-- Data for Name: movie; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.movie (movie_id, title, description, avg_rating, plays) FROM stdin;
4	The Godfather: Part II	The early life and career of Vito Corleone in 1920s New York City is portrayed, while his son, Michael, expands and tightens his grip on the family crime syndicate.	9	175
3	The Dark Knight	When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, Batman must accept one of the greatest psychological and physical tests of his ability to fight injustice.	60	185
2	The Godfather	The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son.	60	194
5	12 Angry Men	A jury holdout attempts to prevent a miscarriage of justice by forcing his colleagues to reconsider the evidence.	8	197
1	The Shawshank Redemption	Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency.	80	199
\.


--
-- TOC entry 3658 (class 0 OID 41251)
-- Dependencies: 235
-- Data for Name: movie_genre; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.movie_genre (movie_id, genre_id) FROM stdin;
1	1
1	3
2	1
2	3
3	1
3	4
4	1
4	3
4	4
5	2
5	3
\.


--
-- TOC entry 3660 (class 0 OID 41255)
-- Dependencies: 237
-- Data for Name: playlist; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.playlist (playlist_id, viewer_id, playlist_name) FROM stdin;
1	1	Favorites
2	1	Watch Later
3	2	Comedy
4	2	Drama
5	3	Horror
\.


--
-- TOC entry 3662 (class 0 OID 41261)
-- Dependencies: 239
-- Data for Name: playlist_movie; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.playlist_movie (playlist_id, movie_id) FROM stdin;
1	1
1	2
1	3
2	4
2	5
3	2
3	5
4	1
4	3
4	4
5	2
5	4
5	5
\.


--
-- TOC entry 3663 (class 0 OID 41264)
-- Dependencies: 240
-- Data for Name: rating; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.rating (viewer_id, movie_id, rating, rating_id) FROM stdin;
1	1	t	1
1	2	t	2
1	3	f	3
2	1	t	4
2	2	f	5
2	3	t	6
3	1	f	7
3	2	t	8
3	3	t	9
4	1	t	10
4	2	f	11
4	3	f	12
5	1	t	13
5	2	t	14
5	3	t	15
\.


--
-- TOC entry 3664 (class 0 OID 41267)
-- Dependencies: 241
-- Data for Name: viewer; Type: TABLE DATA; Schema: netflix; Owner: postgres
--

COPY netflix.viewer (viewer_id, username, password) FROM stdin;
1	john_doe	password123
2	jane_doe	qwertyuiop
3	bob_smith	letmein
4	alice_jones	password
5	sam_wilson	123456
\.


--
-- TOC entry 3640 (class 0 OID 33052)
-- Dependencies: 217
-- Data for Name: auth_group; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_group (id, name) FROM stdin;
\.


--
-- TOC entry 3642 (class 0 OID 33060)
-- Dependencies: 219
-- Data for Name: auth_group_permissions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_group_permissions (id, group_id, permission_id) FROM stdin;
\.


--
-- TOC entry 3638 (class 0 OID 33046)
-- Dependencies: 215
-- Data for Name: auth_permission; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_permission (id, name, content_type_id, codename) FROM stdin;
1	Can add log entry	1	add_logentry
2	Can change log entry	1	change_logentry
3	Can delete log entry	1	delete_logentry
4	Can view log entry	1	view_logentry
5	Can add permission	2	add_permission
6	Can change permission	2	change_permission
7	Can delete permission	2	delete_permission
8	Can view permission	2	view_permission
9	Can add group	3	add_group
10	Can change group	3	change_group
11	Can delete group	3	delete_group
12	Can view group	3	view_group
13	Can add user	4	add_user
14	Can change user	4	change_user
15	Can delete user	4	delete_user
16	Can view user	4	view_user
17	Can add content type	5	add_contenttype
18	Can change content type	5	change_contenttype
19	Can delete content type	5	delete_contenttype
20	Can view content type	5	view_contenttype
21	Can add session	6	add_session
22	Can change session	6	change_session
23	Can delete session	6	delete_session
24	Can view session	6	view_session
25	Can add auth group	7	add_authgroup
26	Can change auth group	7	change_authgroup
27	Can delete auth group	7	delete_authgroup
28	Can view auth group	7	view_authgroup
29	Can add auth group permissions	8	add_authgrouppermissions
30	Can change auth group permissions	8	change_authgrouppermissions
31	Can delete auth group permissions	8	delete_authgrouppermissions
32	Can view auth group permissions	8	view_authgrouppermissions
33	Can add auth permission	9	add_authpermission
34	Can change auth permission	9	change_authpermission
35	Can delete auth permission	9	delete_authpermission
36	Can view auth permission	9	view_authpermission
37	Can add auth user	10	add_authuser
38	Can change auth user	10	change_authuser
39	Can delete auth user	10	delete_authuser
40	Can view auth user	10	view_authuser
41	Can add auth user groups	11	add_authusergroups
42	Can change auth user groups	11	change_authusergroups
43	Can delete auth user groups	11	delete_authusergroups
44	Can view auth user groups	11	view_authusergroups
45	Can add auth user user permissions	12	add_authuseruserpermissions
46	Can change auth user user permissions	12	change_authuseruserpermissions
47	Can delete auth user user permissions	12	delete_authuseruserpermissions
48	Can view auth user user permissions	12	view_authuseruserpermissions
49	Can add django admin log	13	add_djangoadminlog
50	Can change django admin log	13	change_djangoadminlog
51	Can delete django admin log	13	delete_djangoadminlog
52	Can view django admin log	13	view_djangoadminlog
53	Can add django content type	14	add_djangocontenttype
54	Can change django content type	14	change_djangocontenttype
55	Can delete django content type	14	delete_djangocontenttype
56	Can view django content type	14	view_djangocontenttype
57	Can add django migrations	15	add_djangomigrations
58	Can change django migrations	15	change_djangomigrations
59	Can delete django migrations	15	delete_djangomigrations
60	Can view django migrations	15	view_djangomigrations
61	Can add django session	16	add_djangosession
62	Can change django session	16	change_djangosession
63	Can delete django session	16	delete_djangosession
64	Can view django session	16	view_djangosession
\.


--
-- TOC entry 3644 (class 0 OID 33066)
-- Dependencies: 221
-- Data for Name: auth_user; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_user (id, password, last_login, is_superuser, username, first_name, last_name, email, is_staff, is_active, date_joined) FROM stdin;
1	pbkdf2_sha256$600000$mmv9oguoKYe8gx4cPzAGyy$XLLuImu5iyV1ggSfTIP7XJk0SJ9D0YNxpwx5Q8irRfU=	2023-09-26 20:37:54.768949+02	t	admin				t	t	2023-09-26 20:37:43.03826+02
\.


--
-- TOC entry 3646 (class 0 OID 33074)
-- Dependencies: 223
-- Data for Name: auth_user_groups; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_user_groups (id, user_id, group_id) FROM stdin;
\.


--
-- TOC entry 3648 (class 0 OID 33080)
-- Dependencies: 225
-- Data for Name: auth_user_user_permissions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_user_user_permissions (id, user_id, permission_id) FROM stdin;
\.


--
-- TOC entry 3650 (class 0 OID 33138)
-- Dependencies: 227
-- Data for Name: django_admin_log; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.django_admin_log (id, action_time, object_id, object_repr, action_flag, change_message, content_type_id, user_id) FROM stdin;
\.


--
-- TOC entry 3636 (class 0 OID 33038)
-- Dependencies: 213
-- Data for Name: django_content_type; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.django_content_type (id, app_label, model) FROM stdin;
1	admin	logentry
2	auth	permission
3	auth	group
4	auth	user
5	contenttypes	contenttype
6	sessions	session
7	publi	authgroup
8	publi	authgrouppermissions
9	publi	authpermission
10	publi	authuser
11	publi	authusergroups
12	publi	authuseruserpermissions
13	publi	djangoadminlog
14	publi	djangocontenttype
15	publi	djangomigrations
16	publi	djangosession
\.


--
-- TOC entry 3634 (class 0 OID 33030)
-- Dependencies: 211
-- Data for Name: django_migrations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.django_migrations (id, app, name, applied) FROM stdin;
1	contenttypes	0001_initial	2023-09-26 20:31:38.027416+02
2	auth	0001_initial	2023-09-26 20:31:38.149083+02
3	admin	0001_initial	2023-09-26 20:31:38.181236+02
4	admin	0002_logentry_remove_auto_add	2023-09-26 20:31:38.189964+02
5	admin	0003_logentry_add_action_flag_choices	2023-09-26 20:31:38.198728+02
6	contenttypes	0002_remove_content_type_name	2023-09-26 20:31:38.217218+02
7	auth	0002_alter_permission_name_max_length	2023-09-26 20:31:38.225978+02
8	auth	0003_alter_user_email_max_length	2023-09-26 20:31:38.236684+02
9	auth	0004_alter_user_username_opts	2023-09-26 20:31:38.244471+02
10	auth	0005_alter_user_last_login_null	2023-09-26 20:31:38.255178+02
11	auth	0006_require_contenttypes_0002	2023-09-26 20:31:38.259071+02
12	auth	0007_alter_validators_add_error_messages	2023-09-26 20:31:38.268805+02
13	auth	0008_alter_user_username_max_length	2023-09-26 20:31:38.282432+02
14	auth	0009_alter_user_last_name_max_length	2023-09-26 20:31:38.294112+02
15	auth	0010_alter_group_name_max_length	2023-09-26 20:31:38.307745+02
16	auth	0011_update_proxy_permissions	2023-09-26 20:31:38.316501+02
17	auth	0012_alter_user_first_name_max_length	2023-09-26 20:31:38.328178+02
18	sessions	0001_initial	2023-09-26 20:31:38.345699+02
19	publi	0001_initial	2023-09-26 20:42:24.333809+02
\.


--
-- TOC entry 3651 (class 0 OID 33166)
-- Dependencies: 228
-- Data for Name: django_session; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.django_session (session_key, session_data, expire_date) FROM stdin;
xglt1mbuixn5ncckm5qvw49mnoqwgh2d	.eJxVjMEOwiAQRP-FsyFsKSx49N5vIEtZpGpoUtqT8d9tkx70OPPezFsE2tYStsZLmJK4ChCX3y7S-OR6gPSgep_lONd1maI8FHnSJoc58et2un8HhVrZ18gWe69IG9BZAfZgfM7e7YkdWDJKYx5NhyraSMk7g8BgXdexxsQsPl-yZDb1:1qlCwU:FMp3D9gXWhqi7od0Ev2EOjLHhenvcFhdhj3BF3gU6IM	2023-10-10 20:37:54.779668+02
\.


--
-- TOC entry 3693 (class 0 OID 0)
-- Dependencies: 231
-- Name: ads_id_ad_seq; Type: SEQUENCE SET; Schema: netflix; Owner: postgres
--

-- SELECT pg_catalog.setval('netflix.ads_id_ad_seq', 9, true);


--
-- TOC entry 3694 (class 0 OID 0)
-- Dependencies: 249
-- Name: auth_group_id_seq; Type: SEQUENCE SET; Schema: netflix; Owner: postgres
--

-- SELECT pg_catalog.setval('netflix.auth_group_id_seq', 1, false);


--
-- TOC entry 3695 (class 0 OID 0)
-- Dependencies: 251
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE SET; Schema: netflix; Owner: postgres
--

-- SELECT pg_catalog.setval('netflix.auth_group_permissions_id_seq', 1, false);


--
-- TOC entry 3696 (class 0 OID 0)
-- Dependencies: 247
-- Name: auth_permission_id_seq; Type: SEQUENCE SET; Schema: netflix; Owner: postgres
--

-- SELECT pg_catalog.setval('netflix.auth_permission_id_seq', 48, true);


--
-- TOC entry 3697 (class 0 OID 0)
-- Dependencies: 255
-- Name: auth_user_groups_id_seq; Type: SEQUENCE SET; Schema: netflix; Owner: postgres
--

-- SELECT pg_catalog.setval('netflix.auth_user_groups_id_seq', 1, false);


--
-- TOC entry 3698 (class 0 OID 0)
-- Dependencies: 253
-- Name: auth_user_id_seq; Type: SEQUENCE SET; Schema: netflix; Owner: postgres
--

-- SELECT pg_catalog.setval('netflix.auth_user_id_seq', 1, true);


--
-- TOC entry 3699 (class 0 OID 0)
-- Dependencies: 257
-- Name: auth_user_user_permissions_id_seq; Type: SEQUENCE SET; Schema: netflix; Owner: postgres
--

-- SELECT pg_catalog.setval('netflix.auth_user_user_permissions_id_seq', 1, false);


--
-- TOC entry 3700 (class 0 OID 0)
-- Dependencies: 259
-- Name: django_admin_log_id_seq; Type: SEQUENCE SET; Schema: netflix; Owner: postgres
--

-- SELECT pg_catalog.setval('netflix.django_admin_log_id_seq', 1, false);


--
-- TOC entry 3701 (class 0 OID 0)
-- Dependencies: 245
-- Name: django_content_type_id_seq; Type: SEQUENCE SET; Schema: netflix; Owner: postgres
--

-- SELECT pg_catalog.setval('netflix.django_content_type_id_seq', 12, true);


--
-- TOC entry 3702 (class 0 OID 0)
-- Dependencies: 243
-- Name: django_migrations_id_seq; Type: SEQUENCE SET; Schema: netflix; Owner: postgres
--

-- SELECT pg_catalog.setval('netflix.django_migrations_id_seq', 23, true);


--
-- TOC entry 3703 (class 0 OID 0)
-- Dependencies: 233
-- Name: genre_id_genre_seq; Type: SEQUENCE SET; Schema: netflix; Owner: postgres
--

-- SELECT pg_catalog.setval('netflix.genre_id_genre_seq', 5, true);


--
-- TOC entry 3704 (class 0 OID 0)
-- Dependencies: 236
-- Name: movie_id_movie_seq; Type: SEQUENCE SET; Schema: netflix; Owner: postgres
--

-- SELECT pg_catalog.setval('netflix.movie_id_movie_seq', 5, true);


--
-- TOC entry 3705 (class 0 OID 0)
-- Dependencies: 238
-- Name: playlist_id_playlist_seq; Type: SEQUENCE SET; Schema: netflix; Owner: postgres
--

-- SELECT pg_catalog.setval('netflix.playlist_id_playlist_seq', 5, true);


--
-- TOC entry 3706 (class 0 OID 0)
-- Dependencies: 262
-- Name: rating_rating_id_seq; Type: SEQUENCE SET; Schema: netflix; Owner: postgres
--

-- SELECT pg_catalog.setval('netflix.rating_rating_id_seq', 15, true);


--
-- TOC entry 3707 (class 0 OID 0)
-- Dependencies: 242
-- Name: user_id_user_seq; Type: SEQUENCE SET; Schema: netflix; Owner: postgres
--

-- SELECT pg_catalog.setval('netflix.user_id_user_seq', 5, true);


--
-- TOC entry 3708 (class 0 OID 0)
-- Dependencies: 216
-- Name: auth_group_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

-- SELECT pg_catalog.setval('public.auth_group_id_seq', 1, false);


--
-- TOC entry 3709 (class 0 OID 0)
-- Dependencies: 218
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

-- SELECT pg_catalog.setval('public.auth_group_permissions_id_seq', 1, false);


--
-- TOC entry 3710 (class 0 OID 0)
-- Dependencies: 214
-- Name: auth_permission_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

-- SELECT pg_catalog.setval('public.auth_permission_id_seq', 64, true);


--
-- TOC entry 3711 (class 0 OID 0)
-- Dependencies: 222
-- Name: auth_user_groups_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

-- SELECT pg_catalog.setval('public.auth_user_groups_id_seq', 1, false);


--
-- TOC entry 3712 (class 0 OID 0)
-- Dependencies: 220
-- Name: auth_user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

-- SELECT pg_catalog.setval('public.auth_user_id_seq', 1, true);


--
-- TOC entry 3713 (class 0 OID 0)
-- Dependencies: 224
-- Name: auth_user_user_permissions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

-- SELECT pg_catalog.setval('public.auth_user_user_permissions_id_seq', 1, false);


--
-- TOC entry 3714 (class 0 OID 0)
-- Dependencies: 226
-- Name: django_admin_log_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

-- SELECT pg_catalog.setval('public.django_admin_log_id_seq', 1, false);


--
-- TOC entry 3715 (class 0 OID 0)
-- Dependencies: 212
-- Name: django_content_type_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

-- SELECT pg_catalog.setval('public.django_content_type_id_seq', 16, true);


--
-- TOC entry 3716 (class 0 OID 0)
-- Dependencies: 210
-- Name: django_migrations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

-- SELECT pg_catalog.setval('public.django_migrations_id_seq', 19, true);


--
-- TOC entry 3400 (class 2606 OID 41274)
-- Name: ad_genre ad_genre_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.ad_genre
    ADD CONSTRAINT ad_genre_pkey PRIMARY KEY (ad_id, genre_id);


--
-- TOC entry 3398 (class 2606 OID 41276)
-- Name: ad ad_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.ad
    ADD CONSTRAINT ad_pkey PRIMARY KEY (ad_id);


--
-- TOC entry 3432 (class 2606 OID 41476)
-- Name: auth_group auth_group_name_key; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_group
    ADD CONSTRAINT auth_group_name_key UNIQUE (name);


--
-- TOC entry 3437 (class 2606 OID 41407)
-- Name: auth_group_permissions auth_group_permissions_group_id_permission_id_0cd325b0_uniq; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_permission_id_0cd325b0_uniq UNIQUE (group_id, permission_id);


--
-- TOC entry 3440 (class 2606 OID 41376)
-- Name: auth_group_permissions auth_group_permissions_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_pkey PRIMARY KEY (id);


--
-- TOC entry 3434 (class 2606 OID 41368)
-- Name: auth_group auth_group_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_group
    ADD CONSTRAINT auth_group_pkey PRIMARY KEY (id);


--
-- TOC entry 3427 (class 2606 OID 41398)
-- Name: auth_permission auth_permission_content_type_id_codename_01ab375a_uniq; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_codename_01ab375a_uniq UNIQUE (content_type_id, codename);


--
-- TOC entry 3429 (class 2606 OID 41362)
-- Name: auth_permission auth_permission_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_permission
    ADD CONSTRAINT auth_permission_pkey PRIMARY KEY (id);


--
-- TOC entry 3448 (class 2606 OID 41390)
-- Name: auth_user_groups auth_user_groups_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_user_groups
    ADD CONSTRAINT auth_user_groups_pkey PRIMARY KEY (id);


--
-- TOC entry 3451 (class 2606 OID 41422)
-- Name: auth_user_groups auth_user_groups_user_id_group_id_94350c0c_uniq; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_user_groups
    ADD CONSTRAINT auth_user_groups_user_id_group_id_94350c0c_uniq UNIQUE (user_id, group_id);


--
-- TOC entry 3442 (class 2606 OID 41382)
-- Name: auth_user auth_user_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_user
    ADD CONSTRAINT auth_user_pkey PRIMARY KEY (id);


--
-- TOC entry 3454 (class 2606 OID 41396)
-- Name: auth_user_user_permissions auth_user_user_permissions_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permissions_pkey PRIMARY KEY (id);


--
-- TOC entry 3457 (class 2606 OID 41436)
-- Name: auth_user_user_permissions auth_user_user_permissions_user_id_permission_id_14a6b632_uniq; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permissions_user_id_permission_id_14a6b632_uniq UNIQUE (user_id, permission_id);


--
-- TOC entry 3445 (class 2606 OID 41471)
-- Name: auth_user auth_user_username_key; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_user
    ADD CONSTRAINT auth_user_username_key UNIQUE (username);


--
-- TOC entry 3460 (class 2606 OID 41457)
-- Name: django_admin_log django_admin_log_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.django_admin_log
    ADD CONSTRAINT django_admin_log_pkey PRIMARY KEY (id);


--
-- TOC entry 3422 (class 2606 OID 41356)
-- Name: django_content_type django_content_type_app_label_model_76bd3d3b_uniq; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.django_content_type
    ADD CONSTRAINT django_content_type_app_label_model_76bd3d3b_uniq UNIQUE (app_label, model);


--
-- TOC entry 3424 (class 2606 OID 41354)
-- Name: django_content_type django_content_type_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.django_content_type
    ADD CONSTRAINT django_content_type_pkey PRIMARY KEY (id);


--
-- TOC entry 3420 (class 2606 OID 41348)
-- Name: django_migrations django_migrations_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.django_migrations
    ADD CONSTRAINT django_migrations_pkey PRIMARY KEY (id);


--
-- TOC entry 3464 (class 2606 OID 41484)
-- Name: django_session django_session_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.django_session
    ADD CONSTRAINT django_session_pkey PRIMARY KEY (session_key);


--
-- TOC entry 3402 (class 2606 OID 41278)
-- Name: genre genre_name; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.genre
    ADD CONSTRAINT genre_name UNIQUE (genre);


--
-- TOC entry 3404 (class 2606 OID 41280)
-- Name: genre genre_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.genre
    ADD CONSTRAINT genre_pkey PRIMARY KEY (genre_id);


--
-- TOC entry 3408 (class 2606 OID 41282)
-- Name: movie_genre movie_genre_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.movie_genre
    ADD CONSTRAINT movie_genre_pkey PRIMARY KEY (movie_id, genre_id);


--
-- TOC entry 3406 (class 2606 OID 41284)
-- Name: movie movie_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.movie
    ADD CONSTRAINT movie_pkey PRIMARY KEY (movie_id);


--
-- TOC entry 3412 (class 2606 OID 41286)
-- Name: playlist_movie playlist_movies_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.playlist_movie
    ADD CONSTRAINT playlist_movies_pkey PRIMARY KEY (movie_id, playlist_id);


--
-- TOC entry 3410 (class 2606 OID 41288)
-- Name: playlist playlist_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.playlist
    ADD CONSTRAINT playlist_pkey PRIMARY KEY (playlist_id);


--
-- TOC entry 3414 (class 2606 OID 41497)
-- Name: rating rating_pk; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.rating
    ADD CONSTRAINT rating_pk PRIMARY KEY (rating_id);


--
-- TOC entry 3416 (class 2606 OID 41292)
-- Name: viewer username; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.viewer
    ADD CONSTRAINT username UNIQUE (username);


--
-- TOC entry 3418 (class 2606 OID 41294)
-- Name: viewer viewer_pkey; Type: CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.viewer
    ADD CONSTRAINT viewer_pkey PRIMARY KEY (viewer_id);


--
-- TOC entry 3363 (class 2606 OID 33164)
-- Name: auth_group auth_group_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group
    ADD CONSTRAINT auth_group_name_key UNIQUE (name);


--
-- TOC entry 3368 (class 2606 OID 33095)
-- Name: auth_group_permissions auth_group_permissions_group_id_permission_id_0cd325b0_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_permission_id_0cd325b0_uniq UNIQUE (group_id, permission_id);


--
-- TOC entry 3371 (class 2606 OID 33064)
-- Name: auth_group_permissions auth_group_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_pkey PRIMARY KEY (id);


--
-- TOC entry 3365 (class 2606 OID 33056)
-- Name: auth_group auth_group_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group
    ADD CONSTRAINT auth_group_pkey PRIMARY KEY (id);


--
-- TOC entry 3358 (class 2606 OID 33086)
-- Name: auth_permission auth_permission_content_type_id_codename_01ab375a_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_codename_01ab375a_uniq UNIQUE (content_type_id, codename);


--
-- TOC entry 3360 (class 2606 OID 33050)
-- Name: auth_permission auth_permission_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_pkey PRIMARY KEY (id);


--
-- TOC entry 3379 (class 2606 OID 33078)
-- Name: auth_user_groups auth_user_groups_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_groups
    ADD CONSTRAINT auth_user_groups_pkey PRIMARY KEY (id);


--
-- TOC entry 3382 (class 2606 OID 33110)
-- Name: auth_user_groups auth_user_groups_user_id_group_id_94350c0c_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_groups
    ADD CONSTRAINT auth_user_groups_user_id_group_id_94350c0c_uniq UNIQUE (user_id, group_id);


--
-- TOC entry 3373 (class 2606 OID 33070)
-- Name: auth_user auth_user_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user
    ADD CONSTRAINT auth_user_pkey PRIMARY KEY (id);


--
-- TOC entry 3385 (class 2606 OID 33084)
-- Name: auth_user_user_permissions auth_user_user_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permissions_pkey PRIMARY KEY (id);


--
-- TOC entry 3388 (class 2606 OID 33124)
-- Name: auth_user_user_permissions auth_user_user_permissions_user_id_permission_id_14a6b632_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permissions_user_id_permission_id_14a6b632_uniq UNIQUE (user_id, permission_id);


--
-- TOC entry 3376 (class 2606 OID 33159)
-- Name: auth_user auth_user_username_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user
    ADD CONSTRAINT auth_user_username_key UNIQUE (username);


--
-- TOC entry 3391 (class 2606 OID 33145)
-- Name: django_admin_log django_admin_log_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_pkey PRIMARY KEY (id);


--
-- TOC entry 3353 (class 2606 OID 33044)
-- Name: django_content_type django_content_type_app_label_model_76bd3d3b_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_content_type
    ADD CONSTRAINT django_content_type_app_label_model_76bd3d3b_uniq UNIQUE (app_label, model);


--
-- TOC entry 3355 (class 2606 OID 33042)
-- Name: django_content_type django_content_type_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_content_type
    ADD CONSTRAINT django_content_type_pkey PRIMARY KEY (id);


--
-- TOC entry 3351 (class 2606 OID 33036)
-- Name: django_migrations django_migrations_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_migrations
    ADD CONSTRAINT django_migrations_pkey PRIMARY KEY (id);


--
-- TOC entry 3395 (class 2606 OID 33172)
-- Name: django_session django_session_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_session
    ADD CONSTRAINT django_session_pkey PRIMARY KEY (session_key);


--
-- TOC entry 3430 (class 1259 OID 41477)
-- Name: auth_group_name_a6ea08ec_like; Type: INDEX; Schema: netflix; Owner: postgres
--

CREATE INDEX auth_group_name_a6ea08ec_like ON netflix.auth_group USING btree (name varchar_pattern_ops);


--
-- TOC entry 3435 (class 1259 OID 41418)
-- Name: auth_group_permissions_group_id_b120cbf9; Type: INDEX; Schema: netflix; Owner: postgres
--

CREATE INDEX auth_group_permissions_group_id_b120cbf9 ON netflix.auth_group_permissions USING btree (group_id);


--
-- TOC entry 3438 (class 1259 OID 41419)
-- Name: auth_group_permissions_permission_id_84c5c92e; Type: INDEX; Schema: netflix; Owner: postgres
--

CREATE INDEX auth_group_permissions_permission_id_84c5c92e ON netflix.auth_group_permissions USING btree (permission_id);


--
-- TOC entry 3425 (class 1259 OID 41404)
-- Name: auth_permission_content_type_id_2f476e4b; Type: INDEX; Schema: netflix; Owner: postgres
--

CREATE INDEX auth_permission_content_type_id_2f476e4b ON netflix.auth_permission USING btree (content_type_id);


--
-- TOC entry 3446 (class 1259 OID 41434)
-- Name: auth_user_groups_group_id_97559544; Type: INDEX; Schema: netflix; Owner: postgres
--

CREATE INDEX auth_user_groups_group_id_97559544 ON netflix.auth_user_groups USING btree (group_id);


--
-- TOC entry 3449 (class 1259 OID 41433)
-- Name: auth_user_groups_user_id_6a12ed8b; Type: INDEX; Schema: netflix; Owner: postgres
--

CREATE INDEX auth_user_groups_user_id_6a12ed8b ON netflix.auth_user_groups USING btree (user_id);


--
-- TOC entry 3452 (class 1259 OID 41448)
-- Name: auth_user_user_permissions_permission_id_1fbb5f2c; Type: INDEX; Schema: netflix; Owner: postgres
--

CREATE INDEX auth_user_user_permissions_permission_id_1fbb5f2c ON netflix.auth_user_user_permissions USING btree (permission_id);


--
-- TOC entry 3455 (class 1259 OID 41447)
-- Name: auth_user_user_permissions_user_id_a95ead1b; Type: INDEX; Schema: netflix; Owner: postgres
--

CREATE INDEX auth_user_user_permissions_user_id_a95ead1b ON netflix.auth_user_user_permissions USING btree (user_id);


--
-- TOC entry 3443 (class 1259 OID 41472)
-- Name: auth_user_username_6821ab7c_like; Type: INDEX; Schema: netflix; Owner: postgres
--

CREATE INDEX auth_user_username_6821ab7c_like ON netflix.auth_user USING btree (username varchar_pattern_ops);


--
-- TOC entry 3458 (class 1259 OID 41468)
-- Name: django_admin_log_content_type_id_c4bce8eb; Type: INDEX; Schema: netflix; Owner: postgres
--

CREATE INDEX django_admin_log_content_type_id_c4bce8eb ON netflix.django_admin_log USING btree (content_type_id);


--
-- TOC entry 3461 (class 1259 OID 41469)
-- Name: django_admin_log_user_id_c564eba6; Type: INDEX; Schema: netflix; Owner: postgres
--

CREATE INDEX django_admin_log_user_id_c564eba6 ON netflix.django_admin_log USING btree (user_id);


--
-- TOC entry 3462 (class 1259 OID 41486)
-- Name: django_session_expire_date_a5c62663; Type: INDEX; Schema: netflix; Owner: postgres
--

CREATE INDEX django_session_expire_date_a5c62663 ON netflix.django_session USING btree (expire_date);


--
-- TOC entry 3465 (class 1259 OID 41485)
-- Name: django_session_session_key_c0390e0f_like; Type: INDEX; Schema: netflix; Owner: postgres
--

CREATE INDEX django_session_session_key_c0390e0f_like ON netflix.django_session USING btree (session_key varchar_pattern_ops);


--
-- TOC entry 3361 (class 1259 OID 33165)
-- Name: auth_group_name_a6ea08ec_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_group_name_a6ea08ec_like ON public.auth_group USING btree (name varchar_pattern_ops);


--
-- TOC entry 3366 (class 1259 OID 33106)
-- Name: auth_group_permissions_group_id_b120cbf9; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_group_permissions_group_id_b120cbf9 ON public.auth_group_permissions USING btree (group_id);


--
-- TOC entry 3369 (class 1259 OID 33107)
-- Name: auth_group_permissions_permission_id_84c5c92e; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_group_permissions_permission_id_84c5c92e ON public.auth_group_permissions USING btree (permission_id);


--
-- TOC entry 3356 (class 1259 OID 33092)
-- Name: auth_permission_content_type_id_2f476e4b; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_permission_content_type_id_2f476e4b ON public.auth_permission USING btree (content_type_id);


--
-- TOC entry 3377 (class 1259 OID 33122)
-- Name: auth_user_groups_group_id_97559544; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_user_groups_group_id_97559544 ON public.auth_user_groups USING btree (group_id);


--
-- TOC entry 3380 (class 1259 OID 33121)
-- Name: auth_user_groups_user_id_6a12ed8b; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_user_groups_user_id_6a12ed8b ON public.auth_user_groups USING btree (user_id);


--
-- TOC entry 3383 (class 1259 OID 33136)
-- Name: auth_user_user_permissions_permission_id_1fbb5f2c; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_user_user_permissions_permission_id_1fbb5f2c ON public.auth_user_user_permissions USING btree (permission_id);


--
-- TOC entry 3386 (class 1259 OID 33135)
-- Name: auth_user_user_permissions_user_id_a95ead1b; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_user_user_permissions_user_id_a95ead1b ON public.auth_user_user_permissions USING btree (user_id);


--
-- TOC entry 3374 (class 1259 OID 33160)
-- Name: auth_user_username_6821ab7c_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_user_username_6821ab7c_like ON public.auth_user USING btree (username varchar_pattern_ops);


--
-- TOC entry 3389 (class 1259 OID 33156)
-- Name: django_admin_log_content_type_id_c4bce8eb; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_admin_log_content_type_id_c4bce8eb ON public.django_admin_log USING btree (content_type_id);


--
-- TOC entry 3392 (class 1259 OID 33157)
-- Name: django_admin_log_user_id_c564eba6; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_admin_log_user_id_c564eba6 ON public.django_admin_log USING btree (user_id);


--
-- TOC entry 3393 (class 1259 OID 33174)
-- Name: django_session_expire_date_a5c62663; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_session_expire_date_a5c62663 ON public.django_session USING btree (expire_date);


--
-- TOC entry 3396 (class 1259 OID 33173)
-- Name: django_session_session_key_c0390e0f_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_session_session_key_c0390e0f_like ON public.django_session USING btree (session_key varchar_pattern_ops);


--
-- TOC entry 3493 (class 2620 OID 41295)
-- Name: rating trigger_after_update_rating; Type: TRIGGER; Schema: netflix; Owner: postgres
--

CREATE TRIGGER trigger_after_update_rating AFTER INSERT OR UPDATE OF rating ON netflix.rating FOR EACH ROW EXECUTE FUNCTION netflix.function_after_update_rating();


--
-- TOC entry 3485 (class 2606 OID 41413)
-- Name: auth_group_permissions auth_group_permissio_permission_id_84c5c92e_fk_auth_perm; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_group_permissions
    ADD CONSTRAINT auth_group_permissio_permission_id_84c5c92e_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES netflix.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3486 (class 2606 OID 41408)
-- Name: auth_group_permissions auth_group_permissions_group_id_b120cbf9_fk_auth_group_id; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_b120cbf9_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES netflix.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3484 (class 2606 OID 41399)
-- Name: auth_permission auth_permission_content_type_id_2f476e4b_fk_django_co; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_2f476e4b_fk_django_co FOREIGN KEY (content_type_id) REFERENCES netflix.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3487 (class 2606 OID 41428)
-- Name: auth_user_groups auth_user_groups_group_id_97559544_fk_auth_group_id; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_user_groups
    ADD CONSTRAINT auth_user_groups_group_id_97559544_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES netflix.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3488 (class 2606 OID 41423)
-- Name: auth_user_groups auth_user_groups_user_id_6a12ed8b_fk_auth_user_id; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_user_groups
    ADD CONSTRAINT auth_user_groups_user_id_6a12ed8b_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES netflix.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3489 (class 2606 OID 41442)
-- Name: auth_user_user_permissions auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES netflix.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3490 (class 2606 OID 41437)
-- Name: auth_user_user_permissions auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES netflix.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3491 (class 2606 OID 41458)
-- Name: django_admin_log django_admin_log_content_type_id_c4bce8eb_fk_django_co; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.django_admin_log
    ADD CONSTRAINT django_admin_log_content_type_id_c4bce8eb_fk_django_co FOREIGN KEY (content_type_id) REFERENCES netflix.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3492 (class 2606 OID 41463)
-- Name: django_admin_log django_admin_log_user_id_c564eba6_fk_auth_user_id; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.django_admin_log
    ADD CONSTRAINT django_admin_log_user_id_c564eba6_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES netflix.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3475 (class 2606 OID 41296)
-- Name: ad_genre fk_ad_genre; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.ad_genre
    ADD CONSTRAINT fk_ad_genre FOREIGN KEY (ad_id) REFERENCES netflix.ad(ad_id);


--
-- TOC entry 3476 (class 2606 OID 41301)
-- Name: ad_genre fk_genre_ad; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.ad_genre
    ADD CONSTRAINT fk_genre_ad FOREIGN KEY (genre_id) REFERENCES netflix.genre(genre_id);


--
-- TOC entry 3477 (class 2606 OID 41306)
-- Name: movie_genre fk_genre_movie; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.movie_genre
    ADD CONSTRAINT fk_genre_movie FOREIGN KEY (genre_id) REFERENCES netflix.genre(genre_id);


--
-- TOC entry 3478 (class 2606 OID 41311)
-- Name: movie_genre fk_movie_genre; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.movie_genre
    ADD CONSTRAINT fk_movie_genre FOREIGN KEY (movie_id) REFERENCES netflix.movie(movie_id);


--
-- TOC entry 3480 (class 2606 OID 41316)
-- Name: playlist_movie fk_movie_playlist; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.playlist_movie
    ADD CONSTRAINT fk_movie_playlist FOREIGN KEY (movie_id) REFERENCES netflix.movie(movie_id);


--
-- TOC entry 3481 (class 2606 OID 41321)
-- Name: playlist_movie fk_playlist_movie; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.playlist_movie
    ADD CONSTRAINT fk_playlist_movie FOREIGN KEY (playlist_id) REFERENCES netflix.playlist(playlist_id);


--
-- TOC entry 3479 (class 2606 OID 41326)
-- Name: playlist fk_playlist_viewer; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.playlist
    ADD CONSTRAINT fk_playlist_viewer FOREIGN KEY (viewer_id) REFERENCES netflix.viewer(viewer_id);


--
-- TOC entry 3482 (class 2606 OID 41331)
-- Name: rating fk_rating_movie_viewer; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.rating
    ADD CONSTRAINT fk_rating_movie_viewer FOREIGN KEY (movie_id) REFERENCES netflix.movie(movie_id);


--
-- TOC entry 3483 (class 2606 OID 41336)
-- Name: rating fk_rating_viewer_movie; Type: FK CONSTRAINT; Schema: netflix; Owner: postgres
--

ALTER TABLE ONLY netflix.rating
    ADD CONSTRAINT fk_rating_viewer_movie FOREIGN KEY (viewer_id) REFERENCES netflix.viewer(viewer_id);


--
-- TOC entry 3467 (class 2606 OID 33101)
-- Name: auth_group_permissions auth_group_permissio_permission_id_84c5c92e_fk_auth_perm; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissio_permission_id_84c5c92e_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES public.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3468 (class 2606 OID 33096)
-- Name: auth_group_permissions auth_group_permissions_group_id_b120cbf9_fk_auth_group_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_b120cbf9_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES public.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3466 (class 2606 OID 33087)
-- Name: auth_permission auth_permission_content_type_id_2f476e4b_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_2f476e4b_fk_django_co FOREIGN KEY (content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3469 (class 2606 OID 33116)
-- Name: auth_user_groups auth_user_groups_group_id_97559544_fk_auth_group_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_groups
    ADD CONSTRAINT auth_user_groups_group_id_97559544_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES public.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3470 (class 2606 OID 33111)
-- Name: auth_user_groups auth_user_groups_user_id_6a12ed8b_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_groups
    ADD CONSTRAINT auth_user_groups_user_id_6a12ed8b_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3471 (class 2606 OID 33130)
-- Name: auth_user_user_permissions auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES public.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3472 (class 2606 OID 33125)
-- Name: auth_user_user_permissions auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3473 (class 2606 OID 33146)
-- Name: django_admin_log django_admin_log_content_type_id_c4bce8eb_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_content_type_id_c4bce8eb_fk_django_co FOREIGN KEY (content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3474 (class 2606 OID 33151)
-- Name: django_admin_log django_admin_log_user_id_c564eba6_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_user_id_c564eba6_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3691 (class 0 OID 0)
-- Dependencies: 6
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: postgres
--

-- REVOKE USAGE ON SCHEMA public FROM PUBLIC;
-- GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2023-09-29 19:07:17

--
-- PostgreSQL database dump complete
--

